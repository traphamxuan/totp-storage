generator client {
  provider = "prisma-client"
  output   = "../src/lib/server/generated/prisma"
}

datasource db {
  provider = "postgresql"
  schemas  = ["auth", "public"]
}

model public_totp {
  id         String    @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  created_at DateTime  @default(now()) @db.Timestamptz(6)
  secret     String    @unique
  metadata   Json?     @default("{}")
  used_at    DateTime? @default(now()) @db.Timestamptz(6)
  owner_id   String?   @db.Uuid
  users      users?    @relation(fields: [owner_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "totp_users_fk")

  @@map("totp")
  @@schema("public")
}

model users {
  id   String        @id(map: "users_pk") @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  totp public_totp[]

  @@schema("auth")
}
